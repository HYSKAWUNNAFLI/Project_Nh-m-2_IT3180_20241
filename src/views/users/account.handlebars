<div class="account-page">
    <div class="container">
        <div class="row">
            <div class="col-2">
                <div class="account-form-container" id="form-wrapped">
                    <div class="account-form-btn">
                        <span onclick="switchToLogin()" id="btn-login">Login</span>
                        <span onclick="switchToRegister()" id="btn-register">Register</span>
                        <div id="Indicator"></div>
                    </div>

                    <!-- Login Form -->
                    <form method="POST" action="/account/login" id="LoginForm" class="login-form">
                        <input type="email" id="emailInput" name="email" placeholder="Email" oninput="validateEmail()"
                            required>
                        <span id="emailError" style="color: red; display: none;">Invalid email format</span>
                        <input type="password" name="password" placeholder="Password">
                        <button type="submit" class="btn">Login</button>
                        <a href="#">Forgot password</a>
                    </form>

                    <!-- Register Form -->
                    <form method="POST" action="/account/register" id="RegForm" class="register-form">
                        <input type="text" name="first_name" placeholder="First Name" required>
                        <input type="text" name="last_name" placeholder="Last Name" required>
                        <input type="email" id="emailInput" name="email" placeholder="Email" oninput="validateEmail()"
                            required>
                        <span id="emailError" style="color: red; display: none;">Invalid email format</span>
                        <input type="text" name="phone_number" placeholder="Phone Number" required>
                        <input type="password" name="password" placeholder="Password" required>
                        <input type="text" name="address" placeholder="Address" required>
                        <button type="submit" class="btn">Register</button>
                    </form>
                </div>

            </div>
        </div>
    </div>
</div>

<script>

    // Email validation function
    function validateEmail() {
        const emailInput = document.getElementById('emailInput');
        const emailError = document.getElementById('emailError');
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

        // Check if the email format is valid
        if (!emailRegex.test(emailInput.value)) {
            emailError.classList.add('visible'); // Show error message
            emailError.innerText =
                'Invalid email format. Please include "@" and a domain (e.g., ".com").';
            emailInput.style.borderColor = 'red'; // Highlight the input field
        } else {
            emailError.classList.remove('visible'); // Hide error message
            emailInput.style.borderColor = ''; // Reset the input field style
        }


    }</script>

<style>
    /* -----------------------Account-page------------------ */

    .account-page {
        padding: 50px 0;
    }

    .account-form-container {
        background: #ffffff;
        width: 300px;
        height: 400px;
        position: relative;
        text-align: center;
        padding: 20px 0;
        margin: auto;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        overflow-y: auto;
        transition: height 0.5s ease, transform 0.5s ease;
        /* Thêm hiệu ứng */
    }

    .account-form-container::-webkit-scrollbar {
        width: 6px;
        /* Độ rộng thanh cuộn */
    }

    .account-form-container::-webkit-scrollbar-thumb {
        background-color: #d75229;
        /* Màu thanh trượt */
        border-radius: 10px;
        /* Góc bo tròn */
    }

    .account-form-container::-webkit-scrollbar-track {
        background: #f1f1f1;
        /* Màu nền của thanh cuộn */
    }

    .account-form-container span {
        font-weight: bold;
        padding: 10px 20px;
        color: #555;
        cursor: pointer;
        display: inline-block;
        position: relative;
    }

    .account-form-btn {
        display: flex;
        justify-content: space-around;
        position: relative;
        margin-bottom: 20px;
    }

    .account-form-container form {
        max-width: 300px;
        padding: 0 20px;
        position: absolute;
        top: 130px;
        transition: transform 0.5s ease;
    }

    form input {
        width: 100%;
        height: 30px;
        margin: 10px 0;
        padding: 0 10px;
        border: 1px solid #ccc;
    }

    form .btn {
        width: 100%;
        border: none;
        cursor: pointer;
        margin: 10px 0;
        background: #ff523b;
        color: #fff;
        padding: 10px;
        font-weight: bold;
        border-radius: 5px;
        transition: background 0.3s;
    }

    form .btn:hover {
        background: #ff784e;
    }

    form .btn:focus {
        outline: none;
    }

    #LoginForm {
        transform: translateX(0);
    }

    #RegForm {
        transform: translateX(300px);
    }

    form a {
        font-size: 12px;
        text-decoration: none;
        color: #ff523b;
    }

    form a:hover {
        text-decoration: underline;
    }

    #Indicator {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 50%;
        height: 3px;
        background: #ff523b;
        transition: transform 0.5s ease;
    }


    /*----------------Register-success----------------*/

    .success-page {
        padding: 50px 0;
    }

    .main-container {
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .content-row {
        width: 100%;
        display: flex;
        justify-content: center;
    }

    .column-center {
        flex: 0 0 300px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }

    .message-box {
        background: #fff;
        width: 300px;
        height: 300px;
        position: relative;
        text-align: center;
        padding: 20px 0;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
    }

    .message-header {
        display: flex;
        justify-content: center;
        margin-bottom: 20px;
    }

    .message-header span {
        font-weight: bold;
        padding: 10px 20px;
        color: #555;
    }

    .message-body p {
        color: #555;
        font-size: 16px;
        margin-bottom: 20px;
    }

    .action-btn {
        width: 80%;
        border: none;
        cursor: pointer;
        background: #ff523b;
        color: #fff;
        padding: 10px;
        font-weight: bold;
        border-radius: 5px;
        transition: background 0.3s;
        text-decoration: none;
        display: inline-block;
    }

    .action-btn:hover {
        background: #ff784e;
    }


    /*------------------------------------------------*/

    /*--------------Error message for register------*/
    /* Style the input field */
    input[type="email"] {
        width: 100%;
        padding: 10px;
        margin: 5px 0;
        border: 1px solid #ccc;
        border-radius: 5px;
        box-sizing: border-box;
        font-size: 14px;
        transition: border-color 0.3s, box-shadow 0.3s;
    }

    /* Highlight the input field when there's an error */
    input[type="email"]:focus {
        outline: none;
        border-color: #007bff;
        box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
    }

    /* Style the error message */
    #error-message,
    #emailError {
        color: red;
        font-size: 12px;
        font-family: Arial, sans-serif;
        margin-top: 5px;
        display: none;
        /* Initially hidden */
        text-align: left;
    }

    /* Show the error message */
    #error-message.visible,
    #emailError.visible {
        display: block;
        /* Make the error message visible */
    }

    /* Button styling */
    button {
        padding: 10px 20px;
        background-color: #007bff;
        color: #fff;
        border: none;
        border-radius: 5px;
        font-size: 16px;
        cursor: pointer;
        transition: background-color 0.3s;
    }

    button:hover {
        background-color: #0056b3;
    }

    /*----------------------------------------------------*/


    /*-----------------------------Log-out------------------------*/
    /* Định dạng cho dropdown */
    #navbar-account {
        position: relative;
        /* Giữ vị trí để dropdown-menu định vị theo nó */
    }

    .dropdown-menu {
        display: none;
        /* Ẩn menu mặc định */
        position: absolute;
        top: 100%;
        /* Hiển thị bên dưới */
        left: 0;
        background-color: #fff;
        /* Nền menu */
        padding: 10px;
        box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
        /* Đổ bóng */
        border-radius: 5px;
        z-index: 100;
        /* Đảm bảo hiển thị trên cùng */
    }

    .dropdown-menu a {
        text-decoration: none;
        color: #333;
        /* Màu chữ */
        display: block;
        padding: 5px 10px;
        font-size: 14px;
        border-radius: 3px;
    }

    .dropdown-menu a:hover {
        background-color: #f1f1f1;
        /* Hiệu ứng hover cho item */
    }

    /* Hiển thị menu khi hover */
    #navbar-account:hover .dropdown-menu {
        display: block;
        /* Hiển thị menu */
    }
</style>